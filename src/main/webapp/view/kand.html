<!DOCTYPE html>
<html lang="en">

<head>
<!-- basic scripts -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
</head>

<body>
	<input type="text" width="10" id="expid" />
	<input type="button" value="获取数据" id="getdata" />
	<input type="button" value="获取tmp" id="gettmp" />
	<div class="widget-body">
		<div class="widget-main no-padding">
			<table class="table table-bordered table-striped table-hover"
				style="margin-left: 20px; margin-top: 25px;" id="st_score">
				<thead class="thin-border-bottom" style="visibility: hidden;"
					id="st_score_title">
					<tr>
						<th><i class="ace-icon fa fa-caret-right blue"></i> <font
							size="3">id</font></th>
						<th><i class="ace-icon fa fa-caret-right blue"></i> <font
							size="3">name</font></th>
						<th><i class="ace-icon fa fa-caret-right blue"></i> <font
							size="3">type</font></th>
						
					</tr>
				</thead>
				<tbody id="st_score_tbody"></tbody>
			</table>
		</div>
		<!-- /.widget-main -->
	</div>

</body>
<!--[if !IE]> -->
<script src="/assets/js/jquery-2.1.4.min.js"></script>
<script src="/assets/js/jquery.form.js"></script>
<script src="/assets/js/jquery.cookie.js"></script>
<script src="/assets/js/ssm2.util.js"></script>

<!-- <![endif]-->

<!--[if IE]>
		<script src="/assets/js/jquery-1.11.3.min.js"></script>
		<![endif]-->
<script type="text/javascript">
	if ('ontouchstart' in document.documentElement)
		document.write("<script src='/assets/js/jquery.mobile.custom.min.js'>"
				+ "<" + "/script>");
</script>
<script src="/assets/js/bootstrap.min.js"></script>

<!-- page specific plugin scripts -->
<script src="/assets/js/bootstrap-datepicker.min.js"></script>
<script src="/assets/js/jquery.jqGrid.min.js"></script>
<script src="/assets/js/grid.locale-cn.js"></script>

<!-- ace scripts -->
<script src="/assets/js/ace-elements.min.js"></script>
<script src="/assets/js/ace.min.js"></script>
<script type="text/javascript">
	//页面加载事件，读入expid，并查询返回相应的url
	$("#getdata").click(function() {
		var expid = $("#expid").val();
		$.ajax({
			url : '/kand/findByExpid', // 请求地址, 就是你的控制器, 如 test.com/home/index/index
			data : {
				"expid" : expid
			}, // 需要传送的参数
			type : 'POST', // 请求方式
			dataType : 'json', // 返回数据的格式, 通常为JSON
			//contentType: 'application/json',             
			success : function(data) {
				alert(data.page);
			},
			error : function() {
				alert('Send Request Fail..'); // 请求失败时的回调函数
			}
		});
	});
	$("#gettmp").click(function() {
		getTmpData(1,300);
	});
	function getTmpData(page, rows){
		$.ajax({
			url : '/kand/findAllByPage', // 请求地址, 就是你的控制器, 如 test.com/home/index/index
			data : {
				"page" : page,
				"rows" : rows
			}, // 需要传送的参数
			type : 'POST', // 请求方式
			dataType : 'json', // 返回数据的格式, 通常为JSON
			//contentType: 'application/json',             
			success : function(data) {
				//var message= JSON.stringify(data);
				console.log(data.rows);
				/* var aa = data.rows; */
				/* 	alert(aa.length); */
					//返回的data数据是List类型的，直接data.length会报错
					//需要通过var aa = data; 将data数据放到数组aa中
					//就可以aa.length以及aa[1].来取数据
					/* alert("成功1"); */
					/* var table = document.getElementById("st_score");
					var t_body = document.getElementById("st_score_tbody");
					for(var i = 0; i < aa.length; i++) {
						for(j in data.rows[i]){
							table.appendChild(st_score_tbody);
							var tr = document.createElement("tr");
							tr.innerHTML = "<font size='3' color='#000000'>" + data.rows[i][j] + "</font>";
							t_body.appendChild(tr);
							table.appendChild(t_body);
						}
					}
					document.getElementById("st_score_title").style.visibility = "visible"; */
					/* alert('success'); */
			},
			error : function() {
				alert('Send Request Fail..'); // 请求失败时的回调函数
			}
			
		});
	}
	
	function PrefixInteger(num, n) {
	    return (Array(n).join(0) + num).slice(-n);
	}
</script>
</html>